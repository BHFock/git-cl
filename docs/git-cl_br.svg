<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 1120 450"
     width="1120"
     height="450">

  <!-- =======================
       Styles
       ======================= -->
  <style>
    .title {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      font-size: 22px;
      font-weight: 600;
      fill: #1f2937;
    }

    .subtitle {
      font-family: system-ui, sans-serif;
      font-size: 14px;
      fill: #4b5563;
    }

    .label {
      font-family: system-ui, sans-serif;
      font-size: 16px;
      font-weight: 600;
      fill: #374151;
    }

    .cl-label {
      font-family: system-ui, sans-serif;
      font-size: 14px;
      font-weight: 600;
      fill: #374151;
    }

    .file {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 13px;
      fill: #111827;
    }

    .status-m {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 13px;
      fill: #d97706;
    }

    .status-a {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 13px;
      fill: #059669;
    }

    .cmd-highlight {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 14px;
      font-weight: 600;
      fill: #7c3aed;
    }

    .annotation {
      font-family: system-ui, sans-serif;
      font-size: 13px;
      fill: #6b7280;
      font-style: italic;
    }
  </style>

  <!-- =======================
       Drop Shadow
       ======================= -->
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3"
                    flood-color="#000" flood-opacity="0.1"/>
    </filter>
    <filter id="shadow-branch" x="-20%" y="-20%" width="150%" height="150%">
      <feDropShadow dx="0" dy="4" stdDeviation="6"
                    flood-color="#7c3aed" flood-opacity="0.22"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect x="0" y="0" width="1120" height="450"
        rx="12"
        fill="#f8fafc"
        stroke="#e2e8f0"/>

  <!-- Title -->
  <text x="40" y="36" class="title">
    Branching from a changelist
  </text>

  <text x="40" y="62" class="subtitle">
    git cl branch moves one changelist onto a new branch, others stay stashed
  </text>

  <!-- LEFT: Original Branch -->
  <rect x="40" y="90" width="460" height="290"
        rx="14"
        fill="#ffffff"
        stroke="#e5e7eb"
        filter="url(#shadow)"/>

  <text x="60" y="118" class="label">
    main branch — git cl st
  </text>

  <!-- docs -->
  <rect x="70" y="140" width="180" height="90"
        rx="10"
        fill="#e8f0ff"
        stroke="#5b8def"/>

  <text x="90" y="165" class="cl-label">docs</text>

  <text x="90" y="185">
    <tspan class="status-m">[ M]</tspan>
    <tspan class="file" dx="4">README.md</tspan>
  </text>

  <text x="90" y="203">
    <tspan class="status-a">[A ]</tspan>
    <tspan class="file" dx="4">intro.md</tspan>
  </text>

  <!-- experiment -->
  <rect x="70" y="240" width="180" height="70"
        rx="10"
        fill="#e8f0ff"
        stroke="#5b8def"/>

  <text x="90" y="265" class="cl-label">experiment</text>

  <text x="90" y="285">
    <tspan class="status-m">[ M]</tspan>
    <tspan class="file" dx="4">scratch.c</tspan>
  </text>

  <!-- bugfix -->
  <rect x="270" y="140" width="180" height="100"
        rx="10"
        fill="#e8f0ff"
        stroke="#5b8def"/>

  <text x="290" y="165" class="cl-label">bugfix</text>

  <text x="290" y="185">
    <tspan class="status-m">[ M]</tspan>
    <tspan class="file" dx="4">server.py</tspan>
  </text>

  <text x="290" y="203">
    <tspan class="status-m">[ M]</tspan>
    <tspan class="file" dx="4">auth.py</tspan>
  </text>

  <text x="290" y="221">
    <tspan class="status-a">[A ]</tspan>
    <tspan class="file" dx="4">tests_auth.py</tspan>
  </text>

  <!-- Arrow -->
  <line x1="520" y1="220" x2="650" y2="220"
        stroke="#7c3aed"
        stroke-width="2"/>
  <polygon points="655,220 645,214 645,226" fill="#7c3aed"/>

  <text x="587" y="200"
        text-anchor="middle"
        class="cmd-highlight">
    git cl br bugfix
  </text>

  <!-- RIGHT: New Branch -->
  <rect x="670" y="120" width="410" height="200"
        rx="14"
        fill="#ede9fe"
        stroke="#7c3aed"
        stroke-width="2.5"
        filter="url(#shadow-branch)"/>

  <text x="690" y="150" class="label">
    feature/bugfix — git cl st
  </text>

  <!-- bugfix carried over -->
  <rect x="700" y="170" width="180" height="100"
        rx="10"
        fill="#e8f0ff"
        stroke="#5b8def"/>

  <text x="720" y="195" class="cl-label">bugfix</text>

  <text x="720" y="215">
    <tspan class="status-m">[ M]</tspan>
    <tspan class="file" dx="4">server.py</tspan>
  </text>

  <text x="720" y="233">
    <tspan class="status-m">[ M]</tspan>
    <tspan class="file" dx="4">auth.py</tspan>
  </text>

  <text x="720" y="251">
    <tspan class="status-a">[A ]</tspan>
    <tspan class="file" dx="4">tests_auth.py</tspan>
  </text>

  <!-- Annotation (aligned to bugfix) -->
  <text x="700" y="300" class="annotation">
    Only this changelist is restored on the branch
  </text>

  <!-- Stashed: docs + experiment side by side (below feature/bugfix panel) -->
  <rect x="670" y="338" width="410" height="96" rx="10"
        fill="#fef8e3" stroke="#e09a20" filter="url(#shadow)"/>

  <text x="690" y="358"
        font-family="system-ui, sans-serif" font-size="15px" font-weight="600" fill="#374151">
    Stashed
  </text>
  <text x="760" y="358"
        font-family="system-ui, sans-serif" font-size="12px" fill="#6b7280" font-style="italic">
    — other changelists remain untouched on main
  </text>

  <!-- Stashed: docs (left pill) -->
  <rect x="685" y="368" width="185" height="50" rx="6"
        fill="#fae8a0" stroke="#e09a20"/>
  <text x="700" y="389"
        font-family="system-ui, sans-serif" font-size="13px" font-weight="600" fill="#374151">
    docs
  </text>
  <text x="700" y="408"
        font-family="system-ui, sans-serif" font-size="12px" fill="#6b7280" font-style="italic">
    2 files
  </text>

  <!-- Stashed: experiment (right pill) -->
  <rect x="880" y="368" width="185" height="50" rx="6"
        fill="#fae8a0" stroke="#e09a20"/>
  <text x="895" y="389"
        font-family="system-ui, sans-serif" font-size="13px" font-weight="600" fill="#374151">
    experiment
  </text>
  <text x="895" y="408"
        font-family="system-ui, sans-serif" font-size="12px" fill="#6b7280" font-style="italic">
    1 file
  </text>

</svg>
